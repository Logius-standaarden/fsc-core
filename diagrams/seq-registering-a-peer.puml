@startuml

autonumber
header: Core
title: Peer registration flow

box "Peer"
  participant "Contract Manager" as contractManagerPeer
end box
box "Directory"
  participant "Contract Manager" as contractManagerDirectory
end box

contractManagerPeer -> contractManagerPeer: Create Contract with a __PeerRegistrationGrant__
contractManagerPeer -> contractManagerPeer: Add accept signature
contractManagerPeer -> contractManagerDirectory: Submit Contract
contractManagerDirectory -> contractManagerDirectory: Add accept signature
contractManagerDirectory -> contractManagerPeer: Accept Contract

skinparam sequenceBoxBorderColor #transparent
skinparam boxPadding 50
hide footbox
@enduml
